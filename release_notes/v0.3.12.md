# PiPinPP v0.3.12 Release Notes

**Release Date**: November 16, 2025

## Serial/UART Communication Support

This release adds full Arduino-compatible Serial (UART) communication for Raspberry Pi, enabling seamless communication with Arduino boards, sensors, and other UART peripherals.

### New Features

#### Serial Communication (`Serial.hpp` / `Serial.cpp`)
- **Arduino-compatible Serial API** for UART communication
- Full support for common serial devices:
  - `/dev/ttyUSB0` - FTDI/CH340 USB-to-serial adapters
  - `/dev/ttyACM0` - Arduino Uno/Mega native USB
  - `/dev/ttyAMA0` - Raspberry Pi hardware UART (GPIO 14/15)
- **Comprehensive API**:
  - `Serial.begin(baudRate, device)` - Open serial port
  - `Serial.end()` - Close connection
  - `Serial.available()` - Check bytes ready to read
  - `Serial.read()` / `Serial.peek()` - Read data
  - `Serial.write()` - Send bytes/buffers
  - `Serial.print()` / `Serial.println()` - Formatted output
  - `Serial.readString()` / `Serial.readStringUntil()` - Read strings
  - `Serial.setTimeout()` - Configure read timeouts
  - `Serial.flush()` - Wait for transmission complete
- **Baud rate support**: 9600 to 4000000 baud
- **Thread-safe**: All operations protected by internal mutex
- **Configurable 8N1** (8 data bits, no parity, 1 stop bit)

#### New Example: `serial_arduino`
- Demonstrates Arduino-Pi communication over serial
- Perfect for mecanum wheel robots where Arduino handles motors/sensors
- Shows bidirectional command/response protocol
- Includes test Arduino sketch for upload
- Command examples: LED control, movement commands, sensor queries

#### Unit Tests
- Added `gtest_serial.cpp` with comprehensive Serial API tests
- Tests for initialization, thread safety, API compliance
- Integrated into CMake test suite

### Testing

All Serial communication features have been validated:
- ✅ Connection to Arduino Mega 2560 on `/dev/ttyACM0`
- ✅ Bidirectional communication at 9600 baud
- ✅ Command/response protocol working
- ✅ Thread-safe operations verified
- ✅ Arduino sketch upload and testing via Arduino CLI

### Use Cases

This release enables:
1. **Arduino-Pi hybrid robots**: Arduino handles real-time motor control, Pi handles high-level planning
2. **Sensor integration**: Communicate with UART sensors (GPS, laser rangefinders, etc.)
3. **Serial debugging**: Monitor and control Arduino projects from Raspberry Pi
4. **Protocol bridges**: Connect different serial devices through Raspberry Pi

### Documentation

- Updated `docs/API_REFERENCE.md` with complete Serial API documentation
- Added example code and hardware setup instructions
- Included mecanum robot integration notes

### Technical Details

- Uses Linux termios for hardware UART (not software bit-banging)
- Proper timeout handling with `select()`
- Raw mode configuration for binary data support
- Automatic buffer flushing and cleanup

---

## Compatibility

- **Raspberry Pi**: All models with GPIO (Zero, 3, 4, 5)
- **Operating System**: Raspberry Pi OS (32-bit or 64-bit)
- **Compiler**: GCC 9+ or Clang 10+
- **Dependencies**: libgpiod v2.2.1+
- **Arduino**: Tested with Arduino Mega 2560, compatible with all Arduino boards

## Installation

```bash
curl -sSL https://raw.githubusercontent.com/Barbatos6669/PiPinPP/v0.3.12/install.sh | sudo bash
```

Or build from source:
```bash
git clone https://github.com/Barbatos6669/PiPinPP.git
cd PiPinPP
git checkout v0.3.12
./build.sh
sudo make -C build install
```

## Known Issues

None reported.

## Contributors

- @Barbatos6669 - Serial communication implementation and testing

---

**Full Changelog**: https://github.com/Barbatos6669/PiPinPP/compare/v0.3.11...v0.3.12
