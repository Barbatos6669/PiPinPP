# PiPinPP v0.3.10 Release Notes

**Release Date**: November 9, 2025  
**Type**: Patch Release (Critical Bug Fix)

## Overview

This is a critical bugfix release that resolves interrupt initialization errors on Raspberry Pi 5 discovered during hardware validation testing (Issue #11).

## üêõ Bug Fix

### Interrupt GPIO Chip Path Issue

**Issue**: The interrupt code was opening GPIO chips without the `/dev/` prefix, while the Pin class correctly included it.



**Error encountered**:
```
GpioAccessError: Failed to open GPIO chip: gpiochip0
```

**Impact**: 
- Basic GPIO operations (LED, button) worked correctly
- Interrupt-based operations (edge detection, `attachInterrupt()`) failed
- Particularly affected Raspberry Pi 5 hardware validation (Issue #11)

**Root Cause**: Inconsistency between `src/pin.cpp` and `src/interrupts.cpp`:
```cpp
// pin.cpp (correct)
chip = gpiod_chip_open(("/dev/" + chipname).c_str());

// interrupts.cpp (broken)
handler->chip = gpiod_chip_open(chipname.c_str());  // Missing /dev/
```

**Resolution**: Updated `src/interrupts.cpp` to prepend `/dev/` to chipname:
```cpp
// interrupts.cpp (fixed)
std::string chip_path = chipname;
if (chipname.find("/dev/") != 0) {
    chip_path = "/dev/" + chipname;
}
handler->chip = gpiod_chip_open(chip_path.c_str());
```

**Result**: Interrupt operations now work correctly on all Raspberry Pi models.

## üì¶ Changes

- **Modified**: `src/interrupts.cpp` - Fixed GPIO chip path handling
- **Modified**: `CMakeLists.txt` - Version bump to 0.3.10
- **Modified**: `install.sh` - Updated VERSION to v0.3.10
- **Modified**: `README.md` - Updated version badge and install URL
- **Modified**: `docs/API_REFERENCE.md` - Updated version and date
- **Modified**: `CHANGELOG.md` - Added v0.3.10 entry

## üîÑ Upgrade Instructions

### New Installations

Use the updated one-line installer:

```bash
curl -sSL https://raw.githubusercontent.com/Barbatos6669/PiPinPP/v0.3.10/install.sh | sudo bash
```

### Existing v0.3.9 Installations

Simply reinstall to get the interrupt fix:
```bash
curl -sSL https://raw.githubusercontent.com/Barbatos6669/PiPinPP/v0.3.10/install.sh | sudo bash
```

## ‚úÖ Verification

After upgrading, verify the fix:

```bash
# Test interrupt functionality
echo '#include <ArduinoCompat.hpp>
#include <iostream>

void buttonPressed() {
    std::cout << "Button pressed!" << std::endl;
}

int main() {
    pinMode(27, INPUT_PULLUP);
    attachInterrupt(27, buttonPressed, FALLING);
    std::cout << "Interrupt attached successfully!" << std::endl;
    delay(5000);
    detachInterrupt(27);
    return 0;
}' > test_interrupt.cpp

g++ test_interrupt.cpp $(pkg-config --cflags --libs pipinpp) -o test_interrupt
./test_interrupt
rm test_interrupt test_interrupt.cpp
```

## üôè Acknowledgments

Bug discovered during Issue #11 hardware validation testing. Thanks to the validation process for catching this real-world integration issue!

## üîó Links

- [Full Changelog](../CHANGELOG.md)
- [v0.3.9 Release Notes](v0.3.9.md)
- [GitHub Release](https://github.com/Barbatos6669/PiPinPP/releases/tag/v0.3.10)

---

**Previous Release**: [v0.3.9](v0.3.9.md) - pkg-config Linking Fix  
**Next Release**: v0.4.0 - Hardware PWM & UART (Planned Q1 2026)
